{"version":3,"sources":["webpack:///src/components/user/info/InfoVerifyOldPhoneDlg.vue","webpack:///./src/components/user/info/InfoVerifyOldPhoneDlg.vue?3a86","webpack:///./src/components/user/info/InfoVerifyOldPhoneDlg.vue","webpack:///src/components/user/info/InfoVerifyNewPhoneDlg.vue","webpack:///./src/components/user/info/InfoVerifyNewPhoneDlg.vue?9afe","webpack:///./src/components/user/info/InfoVerifyNewPhoneDlg.vue","webpack:///src/components/user/Info.vue","webpack:///./src/components/user/Info.vue?25aa","webpack:///./src/components/user/Info.vue"],"names":["InfoVerifyOldPhoneDlg","name","props","data","counter","time","formData","verifyCode","rule","oldPwd","validator","value","callback","Error","trigger","showDialog","methods","startCounter","_this","this","now","moment_default","unix","interval","clearTimeout","setInterval","delta","next","$emit","info_InfoVerifyOldPhoneDlg","render","_vm","_h","$createElement","_c","_self","ref","staticClass","attrs","model","status-icon","rules","label-width","label","_v","_s","phone","prop","auto-complete","maxLength","minLength","$$v","$set","expression","type","disabled","on","click","$event","justify","staticRenderFns","InfoVerifyNewPhoneDlg","verifyPhone","info_InfoVerifyNewPhoneDlg","STEP_TYPE","Info","components","verify-old","__webpack_require__","normalizeComponent","ssrContext","verify-new","InfoVerifyNewPhoneDlg_normalizeComponent","verifyDlg","step","showDlgOld","showDlgNew","realName","key","enableModify","policeIdCard","mobilePhone","idCard","companyName","account","email","lastLoginTime","genre","orders","created","gapi","getUsersCurrent","then","res","console","log","code","idcard","$store","dispatch","catch","err","isShowAttr","k","item","length","modify","verifyCodeSucceed","verifyNewCodeSucceed","computed","mounted","localStorage","getItem","user_Info","_l","directives","rawName","id","title","visible","width","top","center","update:visible","Info_Component","Info_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/4.7a1e0654bd3f3b532137.js","sourcesContent":["<template>\n  <div>\n    <el-form :model=\"formData\" status-icon :rules=\"rule\" ref=\"ruleForm\" label-width=\"120px\" class=\"form\">\n      <el-form-item label=\"已绑定手机：\">\n        <span>{{ phone }}</span>\n      </el-form-item>\n\n      <el-form-item label=\"短信验证码：\" prop=\"verifyCode\">\n        <el-input class=\"verifyCode\" v-model=\"formData.oldPwd\" auto-complete=\"off\" maxLength=6 minLength=6></el-input>\n        <el-button class='btnCode' type=\"primary\" @click=\"startCounter()\" :disabled=\"counter > 0\">\n          {{ counter > 0 ? \"获取验证码(\" + counter + \")\" : \"获取验证码\" }}\n        </el-button>\n      </el-form-item>\n    </el-form>\n\n    <el-row type=\"flex\" class=\"btnNextContainer\" justify=\"space-between\">\n      <el-button class=\"btnNext\" type=\"primary\" @click=\"next()\">下一步</el-button>\n    </el-row>\n  </div>\n\n</template>\n\n<script>\n  import moment from 'moment'\n  import { mapGetters } from 'vuex'\n\n  const MAX_COUNTER_TIME = 10   // 倒计时时间\n\n  export default {\n    name: 'InfoVerifyOldPhoneDlg',\n    props: ['phone'],\n\n    data: function () {\n      let validateOldPwd = (rule, value, callback) => {\n        if (value === '') {\n          callback(new Error('密码不能为空!'))\n        } else {\n          callback()\n        }\n      }\n\n\n      return {\n        counter: 0,\n        time: '',\n        formData: {\n          verifyCode: ''\n        },\n        rule: {\n          oldPwd: [\n            {validator: validateOldPwd, trigger: 'blur'}\n          ],\n        },\n        showDialog: true\n      }\n    },\n\n    methods: {\n\n      startCounter: function() {\n        this.counter = MAX_COUNTER_TIME\n        this.now = moment().unix()\n\n        this.interval && clearTimeout(this.interval)\n        this.interval = setInterval(() => {\n          let passed = moment().unix() - this.now\n          let delta = MAX_COUNTER_TIME - passed\n\n          if (delta <= 0) {\n            this.counter = 0\n            this.interval && clearTimeout(this.interval)\n          } else {\n            this.counter = delta\n          }\n        }, 1000)\n      },\n\n      next: function() {\n        // TODO: 请求API，进入下一个消息\n\n        this.$emit('verifyCodeSucceed')\n        this.formData.oldPwd = \"\"\n      }\n    },\n  }\n</script>\n\n<style scoped>\n  .user_info {\n    background: rgba(255,255,255,1);\n    border-radius: 10px;\n    box-shadow: 0 0 0 rgba(6,0,1,0.1);\n    padding: 40px 30px 50px;\n    margin: 40px auto 0;\n  }\n\n  #row {\n    display: flex;\n    flex-direction: row;\n  }\n\n  .user_info span div{\n    padding: 10px 20px;\n    font-size: 16px;\n    font-family: MicrosoftYaHei;\n    color: rgba(144,144,144,1);\n    line-height: 20px;\n  }\n\n  .user_info  #col_right {\n    color: #666666;\n  }\n\n  #col_left{\n    text-align: right;\n    margin-right: 20px;\n    width: 130px;\n  }\n  #col_right{\n    text-align: left;\n    flex: 1;\n    display: flex;\n  }\n  .info_phone_modify {\n    color: #4778C7;\n    cursor: pointer;\n    margin-left: 16px;\n  }\n\n  .dialog-bg {\n    border-radius: 10px;\n    background: red;\n  }\n\n  .dialog-footer {\n    margin-top: 0px;\n  }\n\n  .verifyCode {\n    width: 100px;\n    vertical-align: top;\n  }\n\n  .btnCode {\n    vertical-align: top;\n    margin-left: 10px;\n  }\n  .btnCodeDisable {\n    background: gray;\n  }\n\n  .btnNextContainer {\n    margin-top: 30px;\n  }\n\n  .btnNext {\n    width: 120pt;\n    align-content: center;\n    margin:0 auto;\n  }\n\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/user/info/InfoVerifyOldPhoneDlg.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{ref:\"ruleForm\",staticClass:\"form\",attrs:{\"model\":_vm.formData,\"status-icon\":\"\",\"rules\":_vm.rule,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"已绑定手机：\"}},[_c('span',[_vm._v(_vm._s(_vm.phone))])]),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"短信验证码：\",\"prop\":\"verifyCode\"}},[_c('el-input',{staticClass:\"verifyCode\",attrs:{\"auto-complete\":\"off\",\"maxLength\":\"6\",\"minLength\":\"6\"},model:{value:(_vm.formData.oldPwd),callback:function ($$v) {_vm.$set(_vm.formData, \"oldPwd\", $$v)},expression:\"formData.oldPwd\"}}),_vm._v(\" \"),_c('el-button',{staticClass:\"btnCode\",attrs:{\"type\":\"primary\",\"disabled\":_vm.counter > 0},on:{\"click\":function($event){_vm.startCounter()}}},[_vm._v(\"\\n        \"+_vm._s(_vm.counter > 0 ? \"获取验证码(\" + _vm.counter + \")\" : \"获取验证码\")+\"\\n      \")])],1)],1),_vm._v(\" \"),_c('el-row',{staticClass:\"btnNextContainer\",attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('el-button',{staticClass:\"btnNext\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.next()}}},[_vm._v(\"下一步\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-82b6b196\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/user/info/InfoVerifyOldPhoneDlg.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-82b6b196\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./InfoVerifyOldPhoneDlg.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./InfoVerifyOldPhoneDlg.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./InfoVerifyOldPhoneDlg.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-82b6b196\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./InfoVerifyOldPhoneDlg.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-82b6b196\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/info/InfoVerifyOldPhoneDlg.vue\n// module id = null\n// module chunks = ","<template>\n\n    <div>\n      <el-form :model=\"formData\" status-icon label-width=\"120px\" class=\"form\">\n        <el-form-item label=\"绑定新手机：\">\n          <el-input class=\"verifyPhone\" v-model=\"formData.verifyPhone\" auto-complete=\"off\" maxLength=6 minLength=6></el-input>\n        </el-form-item>\n\n        <el-form-item label=\"短信验证码：\">\n          <el-input class=\"verifyCode\" v-model=\"formData.verifyCode\" auto-complete=\"off\" maxLength=6 minLength=6></el-input>\n          <el-button class='btnCode' type=\"primary\" @click=\"startCounter()\" :disabled=\"counter > 0\">\n            {{ counter > 0 ? \"获取验证码(\" + counter + \")\" : \"获取验证码\" }}\n          </el-button>\n        </el-form-item>\n      </el-form>\n\n      <el-row type=\"flex\" class=\"btnNextContainer\" justify=\"space-between\">\n        <el-button class=\"btnNext\" type=\"primary\" @click=\"next()\">确定</el-button>\n      </el-row>\n    </div>\n\n</template>\n\n<script>\n  import moment from 'moment'\n  import { mapGetters } from 'vuex'\n\n  const MAX_COUNTER_TIME = 10   // 倒计时时间\n\n  export default {\n    name: 'InfoVerifyOldPhoneDlg',\n\n    data: function () {\n\n\n      return {\n        counter: 0,\n        time: '',\n        formData: {\n          verifyPhone: '',\n          verifyCode: ''\n        },\n\n        showDialog: true\n      }\n    },\n\n    methods: {\n\n      startCounter: function() {\n        this.counter = MAX_COUNTER_TIME\n        this.now = moment().unix()\n\n        this.interval && clearTimeout(this.interval)\n        this.interval = setInterval(() => {\n          let passed = moment().unix() - this.now\n          let delta = MAX_COUNTER_TIME - passed\n\n          if (delta <= 0) {\n            this.counter = 0\n            this.interval && clearTimeout(this.interval)\n          } else {\n            this.counter = delta\n          }\n        }, 1000)\n      },\n\n      next: function() {\n        // TODO: 请求API，进入下一个消息\n\n        this.$emit('verifyNewCodeSucceed', this.formData.verifyPhone)\n        this.formData.verifyCode = \"\"\n      }\n    },\n  }\n</script>\n\n<style scoped>\n  .user_info {\n    background: rgba(255,255,255,1);\n    border-radius: 10px;\n    box-shadow: 0 0 0 rgba(6,0,1,0.1);\n    padding: 40px 30px 50px;\n    margin: 40px auto 0;\n  }\n\n  #row {\n    display: flex;\n    flex-direction: row;\n  }\n\n  .user_info span div{\n    padding: 10px 20px;\n    font-size: 16px;\n    font-family: MicrosoftYaHei;\n    color: rgba(144,144,144,1);\n    line-height: 20px;\n  }\n\n  .user_info  #col_right {\n    color: #666666;\n  }\n\n  #col_left{\n    text-align: right;\n    margin-right: 20px;\n    width: 130px;\n  }\n  #col_right{\n    text-align: left;\n    flex: 1;\n    display: flex;\n  }\n  .info_phone_modify {\n    color: #4778C7;\n    cursor: pointer;\n    margin-left: 16px;\n  }\n\n  .dialog-bg {\n    border-radius: 10px;\n    background: red;\n  }\n\n  .dialog-footer {\n    margin-top: 0px;\n  }\n\n\n  .verifyPhone {\n    width: 230px;\n    vertical-align: top;\n  }\n\n  .verifyCode {\n    width: 100px;\n    vertical-align: top;\n  }\n\n  .btnCode {\n    vertical-align: top;\n    margin-left: 10px;\n  }\n  .btnCodeDisable {\n    background: gray;\n  }\n\n  .btnNextContainer {\n    margin-top: 30px;\n  }\n\n  .btnNext {\n    width: 120pt;\n    align-content: center;\n    margin:0 auto;\n  }\n\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/user/info/InfoVerifyNewPhoneDlg.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{staticClass:\"form\",attrs:{\"model\":_vm.formData,\"status-icon\":\"\",\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"绑定新手机：\"}},[_c('el-input',{staticClass:\"verifyPhone\",attrs:{\"auto-complete\":\"off\",\"maxLength\":\"6\",\"minLength\":\"6\"},model:{value:(_vm.formData.verifyPhone),callback:function ($$v) {_vm.$set(_vm.formData, \"verifyPhone\", $$v)},expression:\"formData.verifyPhone\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"短信验证码：\"}},[_c('el-input',{staticClass:\"verifyCode\",attrs:{\"auto-complete\":\"off\",\"maxLength\":\"6\",\"minLength\":\"6\"},model:{value:(_vm.formData.verifyCode),callback:function ($$v) {_vm.$set(_vm.formData, \"verifyCode\", $$v)},expression:\"formData.verifyCode\"}}),_vm._v(\" \"),_c('el-button',{staticClass:\"btnCode\",attrs:{\"type\":\"primary\",\"disabled\":_vm.counter > 0},on:{\"click\":function($event){_vm.startCounter()}}},[_vm._v(\"\\n        \"+_vm._s(_vm.counter > 0 ? \"获取验证码(\" + _vm.counter + \")\" : \"获取验证码\")+\"\\n      \")])],1)],1),_vm._v(\" \"),_c('el-row',{staticClass:\"btnNextContainer\",attrs:{\"type\":\"flex\",\"justify\":\"space-between\"}},[_c('el-button',{staticClass:\"btnNext\",attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.next()}}},[_vm._v(\"确定\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3c83041e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/user/info/InfoVerifyNewPhoneDlg.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3c83041e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./InfoVerifyNewPhoneDlg.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./InfoVerifyNewPhoneDlg.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./InfoVerifyNewPhoneDlg.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3c83041e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./InfoVerifyNewPhoneDlg.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3c83041e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/info/InfoVerifyNewPhoneDlg.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"user_info\">\n\n    <span v-for=\"k in orders\">\n      <div id=\"row\" v-show=\"isShowAttr(k)\">\n        <span id=\"col_left\">{{ attrs[k].key  + ':' }}</span>\n        <span id=\"col_right\">\n          <span>{{ attrs[k].value }} </span>\n          <span class=\"info_phone_modify\" v-show=\"attrs[k].enableModify\" @click=\"modify(attrs[k].key)\">[修改]</span>\n        </span>\n      </div>\n    </span>\n\n    <el-dialog\n      title=\"更改手机号码\"\n      :visible.sync=\"showDlgOld\"\n      width=\"450px\"\n      top=\"30vh\"\n      center>\n      <verify-old :phone=\"attrs.mobilePhone.value\" @verifyCodeSucceed=\"verifyCodeSucceed\"></verify-old>\n    </el-dialog>\n\n    <el-dialog\n      title=\"绑定新账号\"\n      :visible.sync=\"showDlgNew\"\n      width=\"450px\"\n      top=\"30vh\"\n      center>\n      <verify-new @verifyNewCodeSucceed=\"verifyNewCodeSucceed\"></verify-new>\n    </el-dialog>\n\n  </div>\n</template>\n\n<script>\n  import moment from 'moment'\n  import InfoVerifyOldPhoneDlg from './info/InfoVerifyOldPhoneDlg.vue'\n  import InfoVerifyNewPhoneDlg from './info/InfoVerifyNewPhoneDlg.vue'\n\n  let STEP_TYPE = {\n    NONE: 0,\n    STEP_VERIFY_OLD: 1,\n    STEP_VERIFY_NEW: 2,\n  }\n\n  export default {\n    name: 'info',\n    components: {\n      'verify-old': InfoVerifyOldPhoneDlg,\n      'verify-new': InfoVerifyNewPhoneDlg,\n    },\n    data: function () {\n      return {\n        verifyDlg: 'VerifyOld',\n        step: STEP_TYPE.NONE,\n        showDlgOld: false,\n        showDlgNew: false,\n        attrs: {\n          realName: {\n            key: '真实姓名',\n            value: '',\n            enableModify: false,\n          },\n          policeIdCard: {\n            key: '警官证号',\n            value: '',\n            enableModify: false,\n          },\n          mobilePhone: {\n            key: '手机号码',\n            value: '',\n            enableModify: true,\n          },\n          idCard: {\n            key: '身份证号',\n            value: '',\n            enableModify: false,\n          },\n          companyName: {\n            key: '所在单位',\n            value: '',\n            enableModify: false,\n          },\n          account: {\n            key: '登录账号',\n            value: '',\n            enableModify: false\n          },\n          email: {\n            key: '邮箱',\n            value: '',\n            enableModify: false\n          },\n          lastLoginTime: {\n            key: '上次登录',\n            value: '',\n            enableModify: false\n          },\n          genre: {\n            key: '账号等级',\n            value: '',\n            enableModify: false\n          }\n        },\n        orders: [\"realName\", \"policeIdCard\", \"mobilePhone\", \"idCard\", \"companyName\", \"account\", \"email\", \"genre\", \"lastLoginTime\", ]\n      }\n    },\n    created () {\n      gapi.getUsersCurrent()\n        .then((res) => {\n          console.log(res)\n          if (res.data.code === 1) {\n            this.attrs.realName.value = res.data.data.realName\n            this.attrs.policeIdCard.value = res.data.data.policeIdCard\n            this.attrs.mobilePhone.value = res.data.data.mobilePhone\n            this.attrs.idCard.value = res.data.data.idcard\n            this.attrs.companyName.value = res.data.data.companyName\n            this.attrs.account.value = res.data.data.account\n            this.attrs.email.value = res.data.data.email\n\n            this.$store.dispatch('me/initMe', res.data.data)\n          }\n        }).catch((err) => {\n        console.log(err)\n      })\n    },\n    methods: {\n      isShowAttr: function(k) {\n        let item = this.attrs[k]\n        if (item\n          && item.key !== null\n          && item.value !== null\n          && item.key.length > 0\n          && item.value.length > 0) {\n          return true\n        }\n        return false\n      },\n\n      modify: function(type) {\n        if (this.step >= STEP_TYPE.STEP_VERIFY_NEW) {\n          this.showDlgNew = true\n        } else {\n          this.showDlgOld = true\n        }\n      },\n\n      verifyCodeSucceed: function() {\n        this.showDlgOld = false\n        this.showDlgNew = true\n\n        this.step = STEP_TYPE.STEP_VERIFY_NEW\n      },\n      verifyNewCodeSucceed: function(phone) {\n        this.showDlgNew = false\n      }\n    },\n    computed: {\n    },\n    mounted () {\n      this.attrs.lastLoginTime.value = localStorage.getItem('lastLoginTime')\n      this.attrs.genre.value = localStorage.getItem('genre')\n    },\n  }\n</script>\n\n<style scoped>\n  .user_info {\n    background: rgba(255,255,255,1);\n    border-radius: 5px;\n    box-shadow: 0 0 10px 2px rgba(6,0,1,0.1);\n    padding: 30px;\n    /*margin: 40px auto 0;*/\n  }\n\n  #row {\n    display: flex;\n    flex-direction: row;\n  }\n\n  .user_info span div{\n    padding: 10px 0px;\n    font-size: 16px;\n    font-family: MicrosoftYaHei;\n    color: rgba(144,144,144,1);\n    line-height: 20px;\n  }\n\n  .user_info  #col_right {\n    color: #666666;\n  }\n\n  #col_left{\n    text-align: right;\n    margin-right: 20px;\n    width: 90px;\n  }\n  #col_right{\n    text-align: left;\n    flex: 1;\n    display: flex;\n  }\n  .info_phone_modify {\n    color: #4778C7;\n    cursor: pointer;\n    margin-left: 16px;\n  }\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/user/Info.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"user_info\"},[_vm._l((_vm.orders),function(k){return _c('span',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShowAttr(k)),expression:\"isShowAttr(k)\"}],attrs:{\"id\":\"row\"}},[_c('span',{attrs:{\"id\":\"col_left\"}},[_vm._v(_vm._s(_vm.attrs[k].key  + ':'))]),_vm._v(\" \"),_c('span',{attrs:{\"id\":\"col_right\"}},[_c('span',[_vm._v(_vm._s(_vm.attrs[k].value)+\" \")]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.attrs[k].enableModify),expression:\"attrs[k].enableModify\"}],staticClass:\"info_phone_modify\",on:{\"click\":function($event){_vm.modify(_vm.attrs[k].key)}}},[_vm._v(\"[修改]\")])])])])}),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"更改手机号码\",\"visible\":_vm.showDlgOld,\"width\":\"450px\",\"top\":\"30vh\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.showDlgOld=$event}}},[_c('verify-old',{attrs:{\"phone\":_vm.attrs.mobilePhone.value},on:{\"verifyCodeSucceed\":_vm.verifyCodeSucceed}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"绑定新账号\",\"visible\":_vm.showDlgNew,\"width\":\"450px\",\"top\":\"30vh\",\"center\":\"\"},on:{\"update:visible\":function($event){_vm.showDlgNew=$event}}},[_c('verify-new',{on:{\"verifyNewCodeSucceed\":_vm.verifyNewCodeSucceed}})],1)],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0f6c0b24\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/user/Info.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0f6c0b24\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Info.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Info.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Info.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0f6c0b24\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Info.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0f6c0b24\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/Info.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}