webpackJsonp([10],{dobK:function(t,e){},tPCe:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=a("PJh5"),n=a.n(o),s={data:function(){return{logs:[{id:"0",ip:"",status:"",browser:"",os:"",currentTime:""}],page:1,pageSize:10,totalRowNum:0,pickerOptions2:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}}]},defaultDate:[n()().format("YYYY-MM-01 HH:mm:ss"),n()().format("YYYY-MM-01 HH:mm:ss")],time:""}},methods:{dateChange:function(t){var e=t[0],a=t[1],o=n()(e).format("YYYY-MM-DD HH:mm:ss"),s=n()(a).format("YYYY-MM-DD HH:mm:ss");this.time=[o,s],this.getUserLoginLogs(this.time)},handleCurrentChange:function(t){this.page=t,this.getUserLoginLogs(this.time)},getUserLoginLogs:function(t){var e=this,a=t&&t.length>0?n()(t[0]).format("YYYY-MM-DD HH:mm:ss"):n()().format("YYYY-MM-DD HH:mm:ss"),o=t&&t.length>1?n()(t[1]).format("YYYY-MM-DD HH:mm:ss"):n()().format("YYYY-MM-DD HH:mm:ss");console.log("startTime:"+a),console.log("endTime:"+o);var s={currentPagrNum:this.page,rowNumPerPage:this.pageSize,startTime:a,endTime:o};gapi.getUserLoginLogs(s).then(function(t){console.log(t),1===t.data.code&&(e.totalRowNum=t.data.data.data.totalRowNum,e.logs=t.data.data.data.resultList,console.log(e.totalRowNum),console.log(e.logs))}).catch(function(t){console.log(t)})},monthTimes:function(){return[n()().format("YYYY-MM-01 HH:mm:ss"),n()().format("YYYY-MM-DD HH:mm:ss")]},search:function(){this.getUserLoginLogs(this.time)}},created:function(){this.time=this.monthTimes(),console.log("this.time:"),console.log(this.time),this.getUserLoginLogs(this.time)}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"log_root"},[a("div",{staticClass:"date_picker_container"},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"终止日期","picker-options":t.pickerOptions2,"default-time":["00:00:00","23:59:59"]},on:{change:t.dateChange},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}}),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")])],1),t._v(" "),a("div",{staticClass:"container borderRadius"},[a("el-table",{ref:"logsTable",staticClass:"logs_table",staticStyle:{width:"100%"},attrs:{data:t.logs,border:""}},[a("el-table-column",{attrs:{prop:"account",label:"用户账号",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ip",label:"IP地址",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"browser",label:"浏览器",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"os",label:"操作系统",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"currentTime",label:"时间",align:"center"}})],1),t._v(" "),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"","page-size":t.pageSize,layout:"prev, pager, next",total:t.totalRowNum},on:{"current-change":t.handleCurrentChange}})],1)],1)])},staticRenderFns:[]};var r=a("VU/8")(s,i,!1,function(t){a("dobK")},null,null);e.default=r.exports}});
//# sourceMappingURL=10.cbccc6f289fa38a0e0c0.js.map