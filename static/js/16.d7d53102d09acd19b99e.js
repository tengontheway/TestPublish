webpackJsonp([16],{"22ba":function(t,a){},"3vMC":function(t,a,r){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=r("Dd8w"),o=r.n(e),n=r("NYxO"),l={name:"changePwd",methods:o()({},Object(n.b)("me",["getAccount"]),{submitForm:function(t){var a=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;if(a.formData.oldPwd.length<3||a.formData.pwd.length<3||a.formData.pwdAgain.length<3)return alert("密码太短，至少3位"),!1;if(a.formData.pwd!==a.formData.pwdAgain)return alert("两次密码不一致"),!1;var r={oldPassword:a.formData.oldPwd,newPassword:a.formData.pwd,newPassword2:a.formData.pwdAgain};r=a.$qs.stringify(r),gapi.changePassword(r).then(function(t){a.formData.oldPwd="",a.formData.pwd="",a.formData.pwdAgain="",a.$refs.ruleForm.resetFields(),1===t.code?a.$alert("成功更改密码!","提示",{confirmButtonText:"确定",center:!0,callback:function(t){a.formData.oldPwd="",a.formData.pwd="",a.formData.pwdAgain="",a.$refs.ruleForm.resetFields()}}):a.$alert(t.failure,"错误提示",{confirmButtonText:"",center:!0,type:"error"})}).catch(function(t){console.log(t)})})},resetForm:function(t){this.$refs[t].resetFields()}}),data:function(){var t=this;return{formData:{oldPwd:"",pwd:"",pwdAgain:""},rule:{oldPwd:[{validator:function(t,a,r){""===a?r(new Error("密码不能为空!")):r()},trigger:"blur"}],pwd:[{validator:function(a,r,e){""===r?e(new Error("密码不能为空!")):(""!==t.formData.pwdAgain&&t.$refs.ruleForm.validateField("pwdAgain"),e())},trigger:"blur"}],pwdAgain:[{validator:function(a,r,e){""===r?e(new Error("密码不能为空")):r!==t.formData.pwd?e(new Error("两次输入密码不一致")):e()},trigger:"blur"}]}}},created:function(){gapi.getUsersCurrent().then(function(t){console.log(t),t.data.code}).catch(function(t){console.log(t)})}},i={render:function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("div",{staticClass:"user_info"},[r("el-form",{ref:"ruleForm",staticClass:"form",attrs:{model:t.formData,"status-icon":"",rules:t.rule,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"账号："}},[r("span",[t._v(t._s(t.getAccount()))])]),t._v(" "),r("el-form-item",{attrs:{label:"原始密码：",prop:"oldPwd"}},[r("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:t.formData.oldPwd,callback:function(a){t.$set(t.formData,"oldPwd",a)},expression:"formData.oldPwd"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"新建密码：",prop:"pwd"}},[r("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:t.formData.pwd,callback:function(a){t.$set(t.formData,"pwd",a)},expression:"formData.pwd"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"确认密码：",prop:"pwdAgain"}},[r("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:t.formData.pwdAgain,callback:function(a){t.$set(t.formData,"pwdAgain",a)},expression:"formData.pwdAgain"}})],1),t._v(" "),r("el-form-item",[r("el-button",{staticClass:"submit",attrs:{type:"primary"},on:{click:function(a){t.submitForm("ruleForm")}}},[t._v("确定")])],1)],1)],1)},staticRenderFns:[]};var s=r("VU/8")(l,i,!1,function(t){r("22ba")},"data-v-54709991",null);a.default=s.exports}});
//# sourceMappingURL=16.d7d53102d09acd19b99e.js.map